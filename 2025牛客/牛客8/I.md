#### 题意

m位队员，选出2n位队员，2个一组共n组参加n场比赛。每个队员有能力值和初高级两个指标。要求：

第i场参赛选手能力值不超过li，同一场两个队员能力值差不超过d。

对于t=0~2n的每个值，问方案中恰好有t个初级队员的最大能力和。不存在恰为t的方案输出-1.



#### 解

注意到如果事先知道选哪2n个，那必然会通过排序，将相邻的人送到一场比赛。

所以先排序，dpijk表示考虑前i个人，选j个，k个初级队员的最大能力和。

j为奇数时，从dpi，j-1，k-c转移。条件是当前位置能力值不能超过lj/2

j为偶数时，从dpi，j-1，k-c 加上当前位置能力值转移。条件是条件是当前位置能力值不能超过lj/2，以及当前位置和i的能力值差不能大于d。

其中c表示当前是否为初级队员。

奇数时维护前缀最大，偶数时维护单调队列。

答案就是到2*n的前缀最大。